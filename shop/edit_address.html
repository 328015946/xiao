<!DOCTYPE html>
<html>
<head>
<Meta http-equiv="Content-Type" content="text/html"; charset="gb2312" >
<meta name="keywords" content="">
<meta name="description" content="">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  user-scalable=0" name="viewport" />
<link rel="shortcut icon" href="favicon.ico"/>
<link href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet">
<link href="css/public.css" rel="stylesheet">
<script src="http://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>
<script src="http://apps.bdimg.com/libs/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<!--[if lt IE 9]>
      <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

</head>
<body>
<!--navbar-->
<div class="navbar navbar-default">
	<div class="container">
		<nav  role="navigation">
			<div class="navbar-header">
			  <a class="" href="index.html"><img src="images/login_logo.png" style="height:50px;"></a>
			</div>
			<div class="nav_right">
			  <ul class="nav navbar-nav pull-right">
				 <li class="" ><a href="javascript:void(0)">纪念服</a></li>
			  </ul>
			</div>
		</nav>
	</div>
</div>

<div class="container">
	<a class="btn btn-primary btn-lg" data-toggle="modal" data-target="#addnewaddress">新增收获地址</a>
	<!--新增收货地址-->
	<form class="address_box">
		<div class="edit_address row">
			<h3>骑行天下</h3>
			<div class="row">
				<div class="col-md-8">
					<p>龙华新区民治街道民富路1980文创园3期一栋B-506</p>
					<p>联系电话：0755-86134949</p>
				</div>
				<div class="col-md-4">
					<input id="item_btn_23" name="gid" value="23" type="checkbox" class="item_btn">
					<label for="item_btn_23" class="label_btn"></label>
					<span>默认地址</span>
					<a href="#" class="btn btn-primary btn-sm"><span>设为默认地址</span></a>
					<a href="#" class="btn btn-primary btn-sm dele_btn"><span>删除</span></a>
				</div>
			</div>
		
		</div>
		<div class="edit_address row">
			<h3>骑行天下</h3>
			<div class="row">
				<div class="col-md-8">
					<p>龙华新区民治街道民富路1980文创园3期一栋B-506</p>
					<p>联系电话：0755-86134949</p>
				</div>
				<div class="col-md-4">
					<input id="item_btn_25" name="gid" value="23" type="checkbox" class="item_btn">
					<label for="item_btn_25" class="label_btn"></label>
					<span>默认地址</span>
					<a href="#" class="btn btn-primary btn-sm"><span>设为默认地址</span></a>
					<a href="#" class="btn btn-primary btn-sm dele_btn"><span>删除</span></a>
				</div>
			</div>
		
		</div>
		<div class="edit_address row">
			<h3>骑行天下</h3>
			<div class="row">
				<div class="col-md-8">
					<p>龙华新区民治街道民富路1980文创园3期一栋B-506</p>
					<p>联系电话：0755-86134949</p>
				</div>
				<div class="col-md-4">
					<input id="item_btn_24" name="gid" value="23" type="checkbox" class="item_btn">
					<label for="item_btn_24" class="label_btn"></label>
					<span>默认地址</span>
					<a href="#" class="btn btn-primary btn-sm"><span>设为默认地址</span></a>
					<a href="#" class="btn btn-primary btn-sm dele_btn" ><span>删除</span></a>
				</div>
			</div>
		
		</div>
	</form>
	
	<!--新增地址模态框-->
	<div class="modal fade" id="addnewaddress" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	   <div class="modal-dialog">
		  <div class="modal-content">
			 <div class="modal-header">
				<button type="button" class="close" 
				   data-dismiss="modal" aria-hidden="true">
					  &times;
				</button>
				<h3 class="modal-title" id="myModalLabel">
				   新增收获地址
				</h3>
			 </div>
			 <div class="modal-body">
				<form class="form-horizontal address_form">
					<input id="res" name="res" type="reset" style="display:none;" /> 
				  <div class="form-group">
					<label for="inputPassword3" class="col-sm-3 control-label">* 收货人</label>
					<div class="col-sm-9">
					  <input type="text" class="form-control" name="user_address" placeholder="收货人真实姓名">
					</div>
				  </div>
				  <div class="form-group">
					<label for="inputPassword3" class="col-sm-3 control-label">* 地址</label>
					<div class="col-sm-9">
					  <div class="col-sm-4">
						<select id="province" name="province" class="form-control"><option></option></select>
					  </div>
					  <div class="col-sm-4">
						<select id="province" name="province" class="form-control"><option></option></select>
					  </div>
					  <div class="col-sm-4">
						<select id="province" name="province" class="form-control"><option></option></select>
					  </div>
					</div>
				  </div>
				  <div class="form-group">
					<label for="inputPassword3" class="col-sm-3 control-label" >* 具体位置</label>
					<div class="col-sm-9">
					  <textarea class="form-control" rows="3" name="address_info" placeholder="详细地址:如龙华街道58栋A座"></textarea>
					</div>
				  </div>
				  <div class="form-group">
					<label for="inputPassword3" class="col-sm-3 control-label" >* 联系电话</label>
					<div class="col-sm-9">
					  <input type="text" class="form-control" name="phone" placeholder="有效的电话格式">
					</div>
				  </div>
				  
				</form>
			 </div>
			 <div class="modal-footer">
				<button type="button" class="btn btn-primary" id="add_newaddress_btn">
				   保存收获地址
				</button>
				<button type="button" class="btn btn-default" 
				   data-dismiss="modal">取消
				</button>
			 </div>
		  </div>
		</div>
	</div>
			<!--地址管理模态框（Modal） -->
<div class="modal fade" id="address_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
               data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h4 class="modal-title" id="myModalLabel">
               删除收货地址
            </h4>
         </div>
         <div class="modal-body">
            你确定要删除这个收获地址吗？
         </div>
         <div class="modal-footer">
          
            <button type="button" class="btn btn-primary yes">
               确定
            </button>
			<button type="button" class="btn btn-default no" data-dismiss="modal">关闭
            </button>
         </div>
      </div>
	</div>
</div>
</div>

<script>
$(function(){
//收货地址删除
	$('.address_box').on('click','.dele_btn',function(){
  var _index=$(this).parents('.edit_address');
	$('#address_modal').data('address',_index.index())//绑定数据 传到模态框
	
	$('#address_modal').modal();
	
})


	$('#address_modal').find('.yes').on("click",function(){
		var r_index=$('#address_modal').data('address');//要移除的元素index
		
		$('#address_modal').modal('hide')
		$('.address_box').children('.edit_address').eq(r_index).remove();
	})

	
	
//添加收货地址
var user;//用户名
		//省市县
var add_info;//详细地址
var phone;//详细地址
	


$('#add_newaddress_btn').on("click",function(){
	 user=$("input[name='user_address']");
											
	 add_info=$("textarea[name='address_info']");
	 phone=$("input[name='phone']");
	var address_html='<div class="edit_address row">'
	     	+'<h3>'+user.val()+'</h3>'
			+'<div class="row">'
				+'<div class="col-md-8">'
					+'<p>'+add_info.val()+'</p>'
					+'<p>联系电话:'+phone.val()+'</p>'
				+'</div>'
			    +'<div class="col-md-4">'
					+'<input id="item_btn_23" name="gid" value="23" type="checkbox" class="item_btn">'
					+'<label for="item_btn_23" class="label_btn"></label>'
					+'<span>默认地址</span>'
					+'<a href="#" class="btn btn-primary btn-sm"><span>设为默认地址</span></a>'
					+'<a href="#" class="btn btn-primary btn-sm dele_btn"><span>删除</span></a>'
				+'</div>'
			+'</div>'
		
		+'</div>';
	
	$('.address_box').append(address_html);
		 
	$('#addnewaddress').modal('hide');
	
	
		
	
})
//重置表单元素
$('#addnewaddress').on('hide.bs.modal', function () {
	$("input[type=reset]").trigger("click");
	} )

})
</script>
</body>

</html>
